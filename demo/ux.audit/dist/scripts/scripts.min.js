angular.module("ngCacheBuster",[]).config(["$httpProvider",function($httpProvider){return $httpProvider.interceptors.push("httpRequestInterceptorCacheBuster")}]).provider("httpRequestInterceptorCacheBuster",function(){this.matchlist=[/.*partials.*/,/.*views.*/],this.logRequests=!1,this.black=!1,this.setMatchlist=function(list,black){this.black="undefined"!=typeof black&&black,this.matchlist=list},this.setLogRequests=function(logRequests){this.logRequests=logRequests},this.$get=["$q","$log",function($q,$log){var matchlist=this.matchlist,logRequests=this.logRequests,black=this.black;return logRequests&&$log.log("Blacklist? ",black),{request:function(config){for(var busted=!black,i=0;i<matchlist.length;i++)if(config.url.match(matchlist[i])){busted=black;break}if(busted){var d=new Date;config.url=config.url.replace(/[?|&]cacheBuster=\d+/,""),config.url+=config.url.indexOf("?")===-1?"?":"&",config.url+="cacheBuster="+d.getTime()}if(logRequests){var log="request.url ="+config.url;busted?$log.warn(log):$log.info(log)}return config||$q.when(config)}}}]});var app=angular.module("UXAudit",["ui.sortable","ngRoute","chart.js"]);app.constant("URL","data/"),app.filter("render",function(){return function(value){return value}}),app.config(function($routeProvider,$locationProvider){$routeProvider.when("/",{templateUrl:"partials/view1.html"}).otherwise({redirectTo:"/"}),$locationProvider.html5Mode(!0)}),app.factory("DataService",function($http,URL){var getData=function(){return $http.get(URL+"suggestions.json")};return{getData:getData}}),app.controller("suggestionController",function(DataService,$sce){var ctrl=this;ctrl.content=[],ctrl.sortReverse=!1,ctrl.sortType="focus",ctrl.options={legend:{display:!0}},ctrl.loadSuggestion=function(){},ctrl.fetchContent=function(){DataService.getData().then(function(result){ctrl.content=result.data,console.log(ctrl.content),ctrl.impactCount=_.countBy(ctrl.content,"impact"),ctrl.impactLabels=Object.keys(ctrl.impactCount),ctrl.impactData=Object.values(ctrl.impactCount),ctrl.focusCount=_.countBy(ctrl.content,"focus"),ctrl.focusLabels=Object.keys(ctrl.focusCount),ctrl.focusData=Object.values(ctrl.focusCount),ctrl.effortCount=_.countBy(ctrl.content,"effort"),ctrl.effortLabels=Object.keys(ctrl.effortCount),ctrl.effortData=Object.values(ctrl.effortCount)})},ctrl.fetchContent()}),app.directive("linkblock",function($compile,$http){var buildLinks=function(title_string,url_string){var title_array=title_string.split(","),url_array=url_string.split(","),linkbar="";return url_array.forEach(function(item,key){if(""!==item){var link='<div class="link"><a target="_blank" href="';link+=item+'">',link+=title_array[key]+"</a></div>",linkbar+=link}else linkbar+=""}),linkbar},linker=function(scope,element,attrs){var LinkHTML=buildLinks(scope.content.asset,scope.content.path);$(element).append(LinkHTML),$compile(element.contents())(scope)};return{restrict:"EA",replace:!0,template:"",link:linker,scope:{content:"<"}}}),angular.module("ui.sortable",[]).value("uiSortableConfig",{}).directive("uiSortable",["uiSortableConfig","$timeout","$log",function(uiSortableConfig,$timeout,$log){return{require:"?ngModel",scope:{ngModel:"=",uiSortable:"="},link:function(scope,element,attrs,ngModel){function combineCallbacks(first,second){return second&&"function"==typeof second?function(){first.apply(this,arguments),second.apply(this,arguments)}:first}function getSortableWidgetInstance(element){var data=element.data("ui-sortable");return data&&"object"==typeof data&&"ui-sortable"===data.widgetFullName?data:null}function hasSortingHelper(element,ui){var helperOption=element.sortable("option","helper");return"clone"===helperOption||"function"==typeof helperOption&&ui.item.sortable.isCustomHelperUsed()}function isFloating(item){return/left|right/.test(item.css("float"))||/inline|table-cell/.test(item.css("display"))}function getElementScope(elementScopes,element){for(var result=null,i=0;i<elementScopes.length;i++){var x=elementScopes[i];if(x.element[0]===element[0]){result=x.scope;break}}return result}function afterStop(e,ui){ui.item.sortable._destroy()}var savedNodes,opts={},directiveOpts={"ui-floating":void 0},callbacks={receive:null,remove:null,start:null,stop:null,update:null},wrappers={helper:null};return angular.extend(opts,directiveOpts,uiSortableConfig,scope.uiSortable),angular.element.fn&&angular.element.fn.jquery?(ngModel?(scope.$watch("ngModel.length",function(){$timeout(function(){getSortableWidgetInstance(element)&&element.sortable("refresh")},0,!1)}),callbacks.start=function(e,ui){if("auto"===opts["ui-floating"]){var siblings=ui.item.siblings(),sortableWidgetInstance=getSortableWidgetInstance(angular.element(e.target));sortableWidgetInstance.floating=isFloating(siblings)}ui.item.sortable={model:ngModel.$modelValue[ui.item.index()],index:ui.item.index(),source:ui.item.parent(),sourceModel:ngModel.$modelValue,cancel:function(){ui.item.sortable._isCanceled=!0},isCanceled:function(){return ui.item.sortable._isCanceled},isCustomHelperUsed:function(){return!!ui.item.sortable._isCustomHelperUsed},_isCanceled:!1,_isCustomHelperUsed:ui.item.sortable._isCustomHelperUsed,_destroy:function(){angular.forEach(ui.item.sortable,function(value,key){ui.item.sortable[key]=void 0})}}},callbacks.activate=function(e,ui){savedNodes=element.contents();var placeholder=element.sortable("option","placeholder");if(placeholder&&placeholder.element&&"function"==typeof placeholder.element){var phElement=placeholder.element();phElement=angular.element(phElement);var excludes=element.find('[class="'+phElement.attr("class")+'"]:not([ng-repeat], [data-ng-repeat])');savedNodes=savedNodes.not(excludes)}var connectedSortables=ui.item.sortable._connectedSortables||[];connectedSortables.push({element:element,scope:scope}),ui.item.sortable._connectedSortables=connectedSortables},callbacks.update=function(e,ui){if(!ui.item.sortable.received){ui.item.sortable.dropindex=ui.item.index();var droptarget=ui.item.parent();ui.item.sortable.droptarget=droptarget;var droptargetScope=getElementScope(ui.item.sortable._connectedSortables,droptarget);ui.item.sortable.droptargetModel=droptargetScope.ngModel,element.sortable("cancel")}hasSortingHelper(element,ui)&&!ui.item.sortable.received&&"parent"===element.sortable("option","appendTo")&&(savedNodes=savedNodes.not(savedNodes.last())),savedNodes.appendTo(element),ui.item.sortable.received&&(savedNodes=null),ui.item.sortable.received&&!ui.item.sortable.isCanceled()&&scope.$apply(function(){ngModel.$modelValue.splice(ui.item.sortable.dropindex,0,ui.item.sortable.moved)})},callbacks.stop=function(e,ui){!ui.item.sortable.received&&"dropindex"in ui.item.sortable&&!ui.item.sortable.isCanceled()?scope.$apply(function(){ngModel.$modelValue.splice(ui.item.sortable.dropindex,0,ngModel.$modelValue.splice(ui.item.sortable.index,1)[0])}):"dropindex"in ui.item.sortable&&!ui.item.sortable.isCanceled()||hasSortingHelper(element,ui)||savedNodes.appendTo(element),savedNodes=null},callbacks.receive=function(e,ui){ui.item.sortable.received=!0},callbacks.remove=function(e,ui){"dropindex"in ui.item.sortable||(element.sortable("cancel"),ui.item.sortable.cancel()),ui.item.sortable.isCanceled()||scope.$apply(function(){ui.item.sortable.moved=ngModel.$modelValue.splice(ui.item.sortable.index,1)[0]})},wrappers.helper=function(inner){return inner&&"function"==typeof inner?function(e,item){var innerResult=inner.apply(this,arguments);return item.sortable._isCustomHelperUsed=item!==innerResult,innerResult}:inner},scope.$watch("uiSortable",function(newVal){var sortableWidgetInstance=getSortableWidgetInstance(element);sortableWidgetInstance&&angular.forEach(newVal,function(value,key){return key in directiveOpts?("ui-floating"!==key||value!==!1&&value!==!0||(sortableWidgetInstance.floating=value),void(opts[key]=value)):(callbacks[key]?("stop"===key&&(value=combineCallbacks(value,function(){scope.$apply()}),value=combineCallbacks(value,afterStop)),value=combineCallbacks(callbacks[key],value)):wrappers[key]&&(value=wrappers[key](value)),opts[key]=value,void element.sortable("option",key,value))})},!0),angular.forEach(callbacks,function(value,key){opts[key]=combineCallbacks(value,opts[key]),"stop"===key&&(opts[key]=combineCallbacks(opts[key],afterStop))})):$log.info("ui.sortable: ngModel not provided!",element),void element.sortable(opts)):void $log.error("ui.sortable: jQuery should be included before AngularJS!")}}}]);
//# sourceMappingURL=maps/scripts.min.js.map
